<!DOCTYPE html>
<!--  This site was created in Webflow. https://webflow.com  -->
<html data-wf-page="69643d1ff1cc1e6fb9eaab47" data-wf-site="68d037de130a6c3d3424e372" lang="en">

<head>
  <meta charset="utf-8">
  <title>Playdate Demo | Zoey Liu</title>
  <meta content="Playdate Demo | Zoey Liu" property="og:title">
  <meta content="Technical Artist specializing in real-time pipelines, UE5, and interactive visuals."
    property="og:description">
  <meta content="images/og-image.png" property="og:image">
  <meta content="Playdate Demo | Zoey Liu" property="twitter:title">
  <meta content="Technical Artist specializing in real-time pipelines, UE5, and interactive visuals."
    property="twitter:description">
  <meta content="images/og-image.png" property="twitter:image">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/zoeyliu-portfolio-0205.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script
    type="text/javascript">WebFont.load({ google: { families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic", "Varela:400", "Inter Tight:300,400,500,600,700"] } });</script>
  <script
    type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
  <link href="images/favicon.jpg" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.jpg" rel="apple-touch-icon">

  <!-- Three.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>

  <style>
    /* Playdate Demo Specific Styles */
    /* Playdate Demo Specific Styles */
    #playdate-canvas-container canvas {
      display: block;
      outline: none;
    }

    .mechanics-section,
    .showcase-section {
      padding: 60px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .mechanics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      margin-top: 40px;
    }

    .mechanic-card {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .mechanic-icon {
      font-size: 3rem;
      margin-bottom: 20px;
      color: #ffc107;
    }

    .showcase-grid {
      display: flex;
      gap: 15px;
      height: 240px;
      /* Fixed height for the gallery strip */
    }

    .showcase-item {
      background: #000;
      height: 300px;
      border-radius: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 1.5rem;
    }
  </style>
</head>

<body class="body-playdate">
  <!-- Navigation (Reused from template) -->
  <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease"
    role="banner" class="navbar-3 w-nav">
    <div class="nav-container-lines">
      <div class="nav-container">
        <a id="w-node-_781521ad-ba05-2226-3228-e7cad978eef2-b9eaab47" href="index.html"
          class="nav-logo w-nav-brand"><img width="170" sizes="170px" alt=""
            src="images/ChatGPT-Image-2026年1月20日-13_23_09.png" loading="lazy"
            srcset="images/ChatGPT-Image-2026年1月20日-13_23_09-p-500.png 500w, images/ChatGPT-Image-2026年1月20日-13_23_09-p-800.png 800w, images/ChatGPT-Image-2026年1月20日-13_23_09-p-1080.png 1080w, images/ChatGPT-Image-2026年1月20日-13_23_09.png 1536w"
            class="image-15">
          <div class="navigation-line"></div>
        </a>
        <nav role="navigation" class="nav-menu w-nav-menu">
          <a href="index.html" class="navigation-link w-nav-link">Home</a>
          <a href="index.html#projects-fan" class="navigation-link w-nav-link">Work</a>
          <a href="resume.html" class="navigation-link w-nav-link">Resume</a>
          <a href="mailto:ziyu.liu@duke.edu" class="navigation-link w-nav-link">Contact</a>
        </nav>
        <div id="w-node-_781521ad-ba05-2226-3228-e7cad978eefc-b9eaab47" class="nav-button-group">
          <a href="index.html" target="_self" class="button-secondary-4 w-inline-block">
            <div class="button-5">
              <div>ZOEY.LIU</div>
            </div>
            <div class="button-background">
              <div class="button-bg w-embed">
                <style>
                  .button-secondary {
                    background: conic-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.32)) !important;
                    background: rgba(255, 255, 255, 0.12);
                  }
                </style>
              </div>
            </div>
          </a>
          <div class="menu-button w-nav-button">
            <div class="w-icon-nav-menu"></div>
          </div>
        </div>
      </div>
      <div class="lines-group">
        <div class="line-vertical-left"></div>
        <div class="line-vertical-right"></div>
        <div class="line-dot bottom-left"></div>
        <div class="line-dot bottom-right"></div>
      </div>
    </div>
  </div>

  <div class="home-lights">
    <div class="light-wrap"><img width="760" sizes="(max-width: 767px) 100vw, 760px" alt=""
        src="images/Hero-Right_1Hero Right.webp" loading="lazy"
        srcset="images/Hero-Right_1-p-500.png 500w, images/Hero-Right_1-p-800.png 800w, images/Hero-Right_1-p-1080.png 1080w, images/Hero-Right_1Hero Right.webp 1440w"
        class="light-right"><img width="1440" sizes="(max-width: 1440px) 100vw, 1440px" alt=""
        src="images/Hero-Left_1Hero Left.webp" loading="lazy"
        srcset="images/Hero-Left_1-p-500.png 500w, images/Hero-Left_1-p-800.png 800w, images/Hero-Left_1-p-1080.png 1080w, images/Hero-Left_1Hero Left.webp 1440w"
        class="light-left"></div>
  </div>

  <!-- Hero Section -->
  <div style="display: flex; height: 80vh; max-width: 1200px; margin: 0 auto; align-items: center;">

    <!-- Left: Text Content -->
    <div style="width: 50%; padding-left: 20px;">
      <h1 class="h1-jumbo"
        style="color: #fff; font-size: 3.5rem; line-height: 1; margin-bottom: 20px; font-family: 'Akira Expanded Demo', Arial, sans-serif;">
        Night
        Owl<br>Adventure</h1>
      <div style="font-size: 1.5rem; color: #ccc; font-family: 'Akira Expanded Demo', Arial, sans-serif;">Playdate Pixel
        Game</div>
    </div>

    <!-- Right: 3D Model -->
    <div id="playdate-canvas-container"
      style="width: 50%; height: 100%; position: relative; display: flex; justify-content: center; align-items: center; overflow: hidden;">
      <!-- Three.js Canvas will be injected here -->
      <div
        style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); color: #333; font-family: 'Varela', sans-serif; opacity: 0.7; pointer-events: none;">
        Click and Drag to Rotate | Scroll to Zoom
      </div>
    </div>
  </div>

  <!-- Mechanics Section -->
  <section class="mechanics-section">
    <h2 class="h2-heading-5" style="color: #fff; text-align: center; margin-bottom: 10px;">Game Control</h2>

    <div style="text-align: center; margin-top: 40px;">
      <img src="images/Playdate/controller.png" alt="Game Controller Diagram"
        style="max-width: 1000px; width: 90%; height: auto; display: inline-block; border-radius: 12px;">
    </div>
  </section>

  <!-- Showcase Section -->
  <section class="showcase-section" style="background-color: #111; color: white; width: 100vw; max-width: 100%;">
    <h2 class="h2-heading-5" style="color: white; text-align: center; margin-bottom: 40px;">Game Showcase</h2>
    <div class="container-large">
      <div class="showcase-flex-container"
        style="display: flex; gap: 40px; align-items: flex-start; justify-content: center; flex-wrap: wrap;">
        <!-- Video Showcase (Left) -->
        <div id="main-display-container"
          style="flex: 1.5; min-width: 300px; border-radius: 12px; overflow: hidden; position: relative; aspect-ratio: 16/9;">
          <video id="showcase-video" controls autoplay muted loop
            style="width: 100%; height: 100%; object-fit: contain; display: block;">
            <source src="images/Playdate/showcase.mov" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <img id="preview-image"
            style="height: 85%; width: auto; object-fit: contain; display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"
            src="" alt="Preview">
        </div>

        <!-- Gallery Showcase (Right) -->
        <div style="flex: 1; min-width: 300px;">
          <div class="showcase-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <img src="images/Playdate/1-5.png" alt="Playdate Gameplay 1" class="showcase-img">
            <img src="images/Playdate/2.png" alt="Playdate Gameplay 2" class="showcase-img">
            <img src="images/Playdate/3.png" alt="Playdate Gameplay 3" class="showcase-img">
            <img src="images/Playdate/4.png" alt="Playdate Gameplay 4" class="showcase-img">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Source Code Section -->
  <section class="source-code-section">
    <h2 class="h2-heading-5" style="color: white; text-align: center; margin-bottom: 40px;">Source Code</h2>

    <div style="max-width: 1000px; margin: 0 auto;">
      <div class="code-header">
        <span class="code-label">Lua</span>
        <a href="#" class="download-button">Download Source</a>
      </div>
      <div class="code-container">
        <pre><code>import "CoreLibs/object"
import "CoreLibs/graphics"
import "CoreLibs/sprites"
import "CoreLibs/timer"
import "CoreLibs/crank"

local pd  = playdate
local gfx = pd.graphics
local shieldPulseTime = 0 

local SCREEN_W, SCREEN_H = 400, 240

local meteor = {
    active   = false,
    x        = 0,
    y        = 0,
    vx       = 0,
    vy       = 0,
    timer    = 0,
    cooldown = 180,
    trail    = {}
}

local NUM_STARS = 30
local stars = {}

for i = 1, NUM_STARS do
    stars[i] = {
        x     = math.random(0, SCREEN_W-1),
        y     = math.random(0, 200), 
        phase = math.random() * math.pi*2,
        speed = 0.5 + math.random() * 0.8
    }
end

local starSprite = gfx.sprite.new()
starSprite:setSize(SCREEN_W, SCREEN_H)
starSprite:setCenter(0, 0)
starSprite:moveTo(0, 0)

starSprite:setZIndex(-5)

function starSprite:draw()
    for _, s in ipairs(stars) do
        local a = (math.sin(s.phase) + 1) / 2
        if a > 0.2 then
            gfx.setColor(gfx.kColorWhite)
            if a > 0.8 then
                gfx.fillRect(s.x, s.y, 2, 2)
            else
                gfx.drawPixel(s.x, s.y)
            end
        end
    end

   function starSprite:draw()
    for _, s in ipairs(stars) do
        local a = (math.sin(s.phase) + 1) / 2
        if a > 0.2 then
            gfx.setColor(gfx.kColorWhite)
            if a > 0.8 then
                gfx.fillRect(s.x, s.y, 2, 2)
            else
                gfx.drawPixel(s.x, s.y)
            end
        end
    end

    if meteor.active or #meteor.trail > 0 then
        gfx.setColor(gfx.kColorWhite)

        local trailCount = #meteor.trail
        for i, p in ipairs(meteor.trail) do
            local t = (trailCount - i + 1) / trailCount
            local len  = 6 + 10 * t
            local offX = -len * 0.8
            local offY =  len * 0.4

            if t > 0.66 then
                gfx.drawLine(p.x, p.y,       p.x + offX, p.y + offY)
                gfx.drawLine(p.x, p.y + 1,   p.x + offX, p.y + offY + 1)
                gfx.drawLine(p.x, p.y - 1,   p.x + offX, p.y + offY - 1)
            elseif t > 0.33 then
                gfx.drawLine(p.x, p.y,       p.x + offX, p.y + offY)
                gfx.drawLine(p.x, p.y + 1,   p.x + offX, p.y + offY + 1)
            else
                gfx.drawLine(p.x, p.y,       p.x + offX * 0.6, p.y + offY * 0.6)
            end
        end

        if meteor.active then
            gfx.fillRect(meteor.x - 2, meteor.y - 2, 5, 5)
        end
    end
end
end


function starSprite:update()
    for _, s in ipairs(stars) do
        s.phase = s.phase + s.speed
        if s.phase > math.pi * 2 then
            s.phase = s.phase - math.pi * 2
        end
    end

    if meteor.active then
        meteor.x = meteor.x + meteor.vx
        meteor.y = meteor.y + meteor.vy
        meteor.timer = meteor.timer - 1

        table.insert(meteor.trail, 1, { x = meteor.x, y = meteor.y })
        if #meteor.trail > 7 then
            table.remove(meteor.trail)
        end

        if meteor.timer <= 0
           or meteor.x < -30
           or meteor.y > SCREEN_H + 30 then

            meteor.active   = false
            meteor.cooldown = math.random(260, 520)
            meteor.trail    = {}
        end
    else
        if meteor.cooldown > 0 then
            meteor.cooldown = meteor.cooldown - 1
        else
            if math.random() < 0.04 then
                meteor.active = true
                meteor.x      = math.random(320, 420)
                meteor.y      = math.random(0, 60)
                meteor.vx     = -4 - math.random() * 2
                meteor.vy     =  2 + math.random() * 1.5
                meteor.timer  = math.random(45, 70)
                meteor.cooldown = math.random(320, 640)
                meteor.trail  = {}
            end
        end
    end
end


starSprite:add()
gfx.sprite.update()



local owlImage        = gfx.image.new("images/owl")
local bgImage         = gfx.image.new("images/forest1")
local obstacleImage = gfx.image.new("images/rocklittle")
local obstacle = gfx.sprite.new(obstacleImage)
local ow, oh = obstacleImage:getSize()
obstacle:setCollideRect(0, 0, ow, oh)
obstacle:moveTo(420, math.random(50, 190))
obstacle:add()


local titleImage      = gfx.image.new("images/title")
local gameOverImage   = gfx.image.new("images/gameover1")


local function drawHeart(x, y)
    gfx.setColor(gfx.kColorBlack)

    gfx.fillCircleAtPoint(x + 4, y + 4, 4)
    gfx.fillCircleAtPoint(x + 12, y + 4, 4)

    gfx.fillTriangle(
        x,      y + 6,
        x + 16, y + 6,
        x + 8,  y + 16
    )
end

local owl = gfx.sprite.new(owlImage)
owl:moveTo(60, SCREEN_H / 2)
local owlW, owlH = owlImage:getSize()
owl:setCollideRect(0, 0, owlW, owlH)

owl:add()

local bg1 = gfx.sprite.new(bgImage)
bg1:setZIndex(-10)
bg1:moveTo(SCREEN_W / 2, SCREEN_H / 2)
bg1:add()

local bg2 = gfx.sprite.new(bgImage)
bg2:setZIndex(-10)
bg2:moveTo(SCREEN_W * 1.5, SCREEN_H / 2)
bg2:add()

local obstacle = gfx.sprite.new(obstacleImage)
local ow, oh = obstacleImage:getSize()
obstacle:setCollideRect(0, 0, ow, oh)
obstacle:moveTo(420, math.random(50, 190))
obstacle:add()


local gameState = "title"

local score        = 0
local bestScore    = 0
local obstacleSpeed = 3

local lives            = 3
local invincible       = false
local invincibleTimer  = 0

local dashActive           = false
local dashTimer            = 0
local DASH_DURATION_FRAMES = 18

local fadeAlpha = 0
local fading    = false

local blinkTimer = 0

do
    local data = pd.datastore.read()
    if data and data.bestScore then
        bestScore = data.bestScore
    end
end

local function resetRun()
    score          = 0
    obstacleSpeed  = 3
    lives          = 3
    invincible     = false
    invincibleTimer = 0

    owl:moveTo(60, SCREEN_H / 2)
    obstacle:moveTo(420, math.random(50, 190))

    bg1:moveTo(SCREEN_W / 2, SCREEN_H / 2)
    bg2:moveTo(SCREEN_W * 1.5, SCREEN_H / 2)

    fadeAlpha = 1
    fading    = true
    gameState = "active"
end

local function handleCollision()
    if invincible then
        return
    end

    if #owl:overlappingSprites() > 0 then
        lives = lives - 1
        invincible      = true
        invincibleTimer = 60

        owl:moveBy(-10, -10)

        obstacle:moveTo(420, math.random(50, 190))

        if lives <= 0 then
            if score > bestScore then
                bestScore = score
                playdate.datastore.write({ bestScore = bestScore })
            end
            gameState = "gameover"
        end
    end
end

local function updateFade()
    if fading then
        fadeAlpha = fadeAlpha - 0.05
        if fadeAlpha <= 0 then
            fadeAlpha = 0
            fading    = false
        end
    elseif gameState == "gameover" and fadeAlpha < 1 then
        fadeAlpha = fadeAlpha + 0.05
        if fadeAlpha > 1 then
            fadeAlpha = 1
        end
    end
end

local function drawFade()
    if fadeAlpha <= 0 then return end
    gfx.setColor(gfx.kColorBlack)
    gfx.setDitherPattern(fadeAlpha, gfx.image.kDitherTypeBayer8x8)
    gfx.fillRect(0, 0, SCREEN_W, SCREEN_H)
end

local function updateBackground(dt)
    local speed = (gameState == "active") and 3 or 0

    if speed == 0 then
        return
    end

    local dx = -speed

    bg1:moveBy(dx, 0)
    bg2:moveBy(dx, 0)

    if bg1.x < -SCREEN_W / 2 then
        bg1:moveTo(bg2.x + SCREEN_W, SCREEN_H / 2)
    end
    if bg2.x < -SCREEN_W / 2 then
        bg2:moveTo(bg1.x + SCREEN_W, SCREEN_H / 2)
    end
end

local function updateOwl(dt)
    local crankPos = pd.getCrankPosition()
    local dy = 0

    if crankPos > 20 and crankPos < 160 then
        dy = -4
    elseif crankPos > 200 or crankPos < 20 then
        dy = 4
    end

    local newY = owl.y + dy
    if newY < 20 then newY = 20 end
    if newY > SCREEN_H - 20 then newY = SCREEN_H - 20 end
    owl:moveTo(owl.x, newY)
end

local function updateObstacle(dt)
    obstacle:moveBy(-obstacleSpeed, 0)
    if obstacle.x < -20 then
        score = score + 1
        obstacleSpeed = obstacleSpeed + 0.2
        obstacle:moveTo(420, math.random(50, 190))
    end
end

local function drawHUD()
    gfx.setColor(gfx.kColorWhite)
    gfx.setDitherPattern(0.5, gfx.image.kDitherTypeBayer8x8)
    gfx.fillRoundRect(0, 0, SCREEN_W, 32, 4)

    gfx.setColor(gfx.kColorBlack)
    gfx.setDitherPattern(1.0, gfx.image.kDitherTypeBayer8x8)

    local hudText = string.format("Score: %d   Best: %d", score, bestScore)

    gfx.setColor(gfx.kColorBlack)
    gfx.drawText(hudText, 249, 10)
    gfx.drawText(hudText, 251, 10)
    gfx.drawText(hudText, 250, 9)
    gfx.drawText(hudText, 250, 11)
    gfx.setColor(gfx.kColorBlack)
    gfx.drawText(hudText, 250, 10)
    gfx.drawText(hudText, 250, 10)

    for i = 1, lives do
        drawHeart(10 + (i - 1) * 20, 6)
    end
end


function playdate.update()
    local dt = pd.getElapsedTime()
    pd.resetElapsedTime()
    shieldPulseTime = shieldPulseTime + dt


    gfx.clear(gfx.kColorWhite)
    gfx.sprite.update()

    if gameState == "title" then
        if titleImage then
            titleImage:draw(0, 0)
        end

        blinkTimer = blinkTimer + 1
        if blinkTimer >= 60 then blinkTimer = 0 end
        if blinkTimer < 30 then
            gfx.drawTextAligned("Press A to Start", SCREEN_W / 2, 190, kTextAlignment.center)
        end

    elseif gameState == "active" then
        updateBackground(dt)
        updateOwl(dt)
        updateObstacle(dt)

        if invincible then
            invincibleTimer = invincibleTimer -1
            if invincibleTimer <= 0 then
                invincible = false
            end
        end

        if dashActive then
            dashTimer = dashTimer -1
            if dashTimer <= 0 then
                dashActive = false
                if invincibleTimer <= 0 then
                    invincible = false
                end
            end
        end

        handleCollision()

        drawHUD()

     if dashActive then
    local x, y = owl.x, owl.y

    local pulse = math.sin(shieldPulseTime * 10) * 4

    local baseOuter = 30
    local baseMid   = 24
    local baseInner = 18

    local outerR = baseOuter + pulse
    local midR   = baseMid   + pulse * 0.7
    local innerR = baseInner + pulse * 0.4

    gfx.setColor(gfx.kColorWhite)

    gfx.setDitherPattern(0.25, gfx.image.kDitherTypeBayer8x8)
    gfx.fillCircleAtPoint(x, y, outerR)

    gfx.setDitherPattern(0.45, gfx.image.kDitherTypeBayer8x8)
    gfx.fillCircleAtPoint(x, y, midR)

    gfx.setDitherPattern(0.7, gfx.image.kDitherTypeBayer8x8)
    gfx.fillCircleAtPoint(x, y, innerR)

    gfx.setDitherPattern(1.0, gfx.image.kDitherTypeBayer8x8)
    gfx.drawCircleAtPoint(x, y, outerR)

    gfx.setDitherPattern(1.0, gfx.image.kDitherTypeBayer8x8)
end


    elseif gameState == "paused" then
        drawHUD()

        local boxW, boxH = 200, 50
        local boxX = (SCREEN_W - boxW) / 2
        local boxY = (SCREEN_H - boxH) / 2

        gfx.setColor(gfx.kColorWhite)
        gfx.setDitherPattern(0.5, gfx.image.kDitherTypeBayer8x8)
        gfx.fillRoundRect(boxX, boxY, boxW, boxH, 8)

        gfx.setColor(gfx.kColorBlack)
        gfx.setDitherPattern(1.0, gfx.image.kDitherTypeBayer8x8)

        local function drawBoldTextAligned(text, x, y)
            gfx.setColor(gfx.kColorBlack)
            gfx.drawTextAligned(text, x-1, y, kTextAlignment.center)
            gfx.drawTextAligned(text, x+1, y, kTextAlignment.center)
            gfx.drawTextAligned(text, x, y-1, kTextAlignment.center)
            gfx.drawTextAligned(text, x, y+1, kTextAlignment.center)
            gfx.drawTextAligned(text, x, y,   kTextAlignment.center)
        end

        drawBoldTextAligned("PAUSED", SCREEN_W / 2, boxY + 6)

        gfx.drawTextAligned("Press B to Resume", SCREEN_W / 2, boxY + 28, kTextAlignment.center)

    elseif gameState == "gameover" then
        if gameOverImage then
            gameOverImage:draw(0, 0)
        else
            gfx.drawTextAligned("GAME OVER", SCREEN_W / 2, 80, kTextAlignment.center)
        end

        gfx.drawTextAligned("Score: " .. score, SCREEN_W / 2, 130, kTextAlignment.center)
        gfx.drawTextAligned("Best: " .. bestScore, SCREEN_W / 2, 150, kTextAlignment.center)
        gfx.drawTextAligned("Press A to Restart", SCREEN_W / 2, 190, kTextAlignment.center)
    end

    updateFade()
    drawFade()
end


function playdate.AButtonDown()
    if gameState == "title" then
        resetRun()
    elseif gameState == "gameover" then
        resetRun()
    elseif gameState == "active" then
        if not dashActive then
            dashActive = true
            dashTimer  = DASH_DURATION_FRAMES

            invincible      = true
            if invincibleTimer < DASH_DURATION_FRAMES then
                invincibleTimer = DASH_DURATION_FRAMES
            end
        end
    end
end


function playdate.BButtonDown()
    if gameState == "active" then
        gameState = "paused"
    elseif gameState == "paused" then
        gameState = "active"
    end
end
</code></pre>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const showcaseImgs = document.querySelectorAll('.showcase-img');
      const video = document.getElementById('showcase-video');
      const previewImg = document.getElementById('preview-image');
      let timeoutId;

      showcaseImgs.forEach(img => {
        img.addEventListener('click', function () {
          const src = this.getAttribute('src');

          // Set preview image source
          previewImg.setAttribute('src', src);

          // Hide video, show image
          video.style.display = 'none';
          video.pause();
          previewImg.style.display = 'block';

          // Clear existing timeout if any
          if (timeoutId) {
            clearTimeout(timeoutId);
          }

          // Set timer to revert
          timeoutId = setTimeout(() => {
            previewImg.style.display = 'none';
            video.style.display = 'block';
            video.play();
          }, 3000);
        });
      });
    });
  </script>

  <div class="div-block-16">
    <a href="index.html#projects-fan" class="button-3 w-button">Back to Content</a>
  </div>

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=68d037de130a6c3d3424e372"
    type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>

  <script>
    // Three.js Implementation
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.getElementById('playdate-canvas-container');

      // Scene Setup
      const scene = new THREE.Scene();
      // scene.background = new THREE.Color(0xf0f0f0); // Removed for transparency
      // We are handling background via CSS now

      // Camera Setup
      const camera = new THREE.PerspectiveCamera(45, container.clientWidth / container.clientHeight, 0.1, 1000);
      camera.position.set(0, 0, 5);

      // Renderer Setup
      const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true }); // Alpha for transparency
      renderer.setSize(container.clientWidth, container.clientHeight);
      renderer.setClearColor(0x000000, 0); // Transparent clear color
      renderer.shadowMap.enabled = true;
      renderer.outputEncoding = THREE.sRGBEncoding;

      container.appendChild(renderer.domElement);

      // Controls
      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.05;
      controls.enableZoom = false; // Disable zoom
      controls.autoRotate = true;
      controls.autoRotateSpeed = 0.5; // Slower rotation

      // Lighting
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
      scene.add(ambientLight);

      const dirLight = new THREE.DirectionalLight(0xffffff, 1.2);
      dirLight.position.set(5, 10, 7);
      dirLight.castShadow = true;
      scene.add(dirLight);

      const pointLight = new THREE.PointLight(0xffffff, 0.5);
      pointLight.position.set(-5, 5, 5);
      scene.add(pointLight);

      // --- Load Real Playdate Model (GLB) ---
      const loader = new THREE.GLTFLoader();

      loader.load(
        'images/Playdate/playdate.glb',
        (gltf) => {
          const model = gltf.scene;

          model.traverse((child) => {
            if (child.isMesh) {
              child.castShadow = true;
              child.receiveShadow = true;
            }
          });

          // Auto-center and fit to view
          const box = new THREE.Box3().setFromObject(model);
          const center = box.getCenter(new THREE.Vector3());
          const size = box.getSize(new THREE.Vector3());

          // Reset position to center of bounding box
          model.position.x += (model.position.x - center.x);
          model.position.y += (model.position.y - center.y);
          model.position.z += (model.position.z - center.z);

          // Calculate scale to fit in view
          const maxDim = Math.max(size.x, size.y, size.z);
          const targetSize = 10; // Target size in Three.js units
          const scaleFactor = targetSize / maxDim;
          model.scale.set(scaleFactor, scaleFactor, scaleFactor);

          scene.add(model);

          // Adjust camera to look at the center
          camera.position.set(0, 0, 20);
          controls.target.set(0, 0, 0);
          controls.update();

        },
        (xhr) => {
          console.log((xhr.loaded / xhr.total * 100) + '% loaded');
        },
        (error) => {
          console.error('An error happened loading the GLB model:', error);
        }
      );

      // Animation Loop
      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
      animate();

      // Handle Resize
      window.addEventListener('resize', () => {
        const width = container.clientWidth;
        const height = container.clientHeight;
        renderer.setSize(width, height);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
      });
    });
  </script>
  <!-- FOOTER MINIMAL -->
  <div class="footer-minimal"
    style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding: 40px 0; margin-top: 80px; font-family: 'Google Sans', sans-serif;">
    <div
      style="max-width: 1200px; margin: 0 auto; padding: 0 40px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
      <div style="color: rgba(255, 255, 255, 0.8); font-size: 14px;">
        <strong style="color: #fff; font-size: 16px; margin-right: 20px;">Zoey Liu</strong>
        <a href="mailto:ziyu.liu@duke.edu" style="color: inherit; text-decoration: none; transition: opacity 0.2s;"
          onmouseover="this.style.opacity='0.6'" onmouseout="this.style.opacity='1'">ziyu.liu@duke.edu</a>
      </div>
      <div style="display: flex; gap: 24px; align-items: center; color: rgba(255, 255, 255, 0.6); font-size: 14px;">
        <a href="https://www.linkedin.com/in/zoey-liu2002" target="_blank"
          style="color: inherit; text-decoration: none; transition: color 0.2s;" onmouseover="this.style.color='#fff'"
          onmouseout="this.style.color='rgba(255, 255, 255, 0.6)'">LinkedIn</a>
        <a href="resume.html" style="color: inherit; text-decoration: none; transition: color 0.2s;"
          onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255, 255, 255, 0.6)'">Resume</a>
        <span>© 2026 Zoey Liu. All Rights Reserved.</span>
      </div>
    </div>
  </div>
</body>

</html>